


RET_SERVO   ;RETARDO DE 5.5 uS QUE ES EL RETARDO PARA GENERAR 1° EN EL SERVO
	    MOVLW	B'00000011'
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XFF
	    MOVWF	TMR0H
	    MOVLW	0XF9
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO
	    
	    
;FORMULA:
;    MODO 8 BITS: T=(4/FOSC)*[PREE]*[255-TMR0]
;    
;    MODO 8 BITS: T=(4/FOSC)*[PREE]*[65535-TMR0]
RET_1S
	    MOVLW	B'00000111'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:256  
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0X0B
	    MOVWF	TMR0H
	    MOVLW	0XBD
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO 	    
	    
	    
	    
RET_500MS
	    MOVLW	B'00000111'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:256  
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0X85
	    MOVWF	TMR0H
	    MOVLW	0XED
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO 	    
	    
	    
RET_100MS
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0X3C
	    MOVWF	TMR0H
	    MOVLW	0XB0
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO 
	    
RET_50MS
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0X9E
	    MOVWF	TMR0H
	    MOVLW	0X57
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO 
	    
RET_10MS
	    MOVLW	B'00000010'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XB1
	    MOVWF	TMR0H
	    MOVLW	0XE0
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO

RET_1MS
	    
	    MOVLW	B'01000101'	    ;EMPEZAR DETENIDO, MODO 8 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:64
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF	    ;LIMPIAR BANDERA DE DESBORDAMIENTO DE TMR0
	    MOVLW	.4
	    MOVWF	TMR0		    ;CARGAR EL REGISTRO TMR0
	    BSF		T0CON,TMR0ON	    ;ENCENDER EL TEMPORIZADOR
	    GOTO	BUCLE_RETARDO
	    
RET_5MS
	    MOVLW	B'00000000'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	.82
	    MOVWF	TMR0L
	    MOVLW	.99
	    MOVWF	TMR0H
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO
	    
RET_16MS
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XE0
	    MOVWF	TMR0H
	    MOVLW	0XBF
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO


	    
RET_500US
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XFF
	    MOVWF	TMR0H
	    MOVLW	0X05
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO
	    
RET_250US
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XFF
	    MOVWF	TMR0H
	    MOVLW	0X82
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO
	    
RET_100US
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XFF
	    MOVWF	TMR0H
	    MOVLW	0XCD
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO
	    
RET_18MS
	    MOVLW	B'00000100'	    ;EMPEZAR DETENIDO, MODO 16 BITS, CLK INTERNO (FCY),PREE ASIGNADO; PRE= 1:2   
	    MOVWF	T0CON
	    BCF		INTCON,TMR0IF
	    MOVLW	0XDC
	    MOVWF	TMR0H
	    MOVLW	0XD7
	    MOVWF	TMR0L
	    BSF		T0CON,TMR0ON
	    GOTO	BUCLE_RETARDO
	    
BUCLE_RETARDO
	    BTFSS	INTCON,TMR0IF	    ;EL LA BANDERA SE PUSO A 1?
	    GOTO	BUCLE_RETARDO	    ;NO, QUEDATE EN UN BUCLE Y DETEN LA EJECUCION CODIGO
	    BCF		INTCON,TMR0IF	    ;SI, LIMPIAR LA BANDERA DE DESBORDAMIENTO TMR0
	    BCF		T0CON,TMR0ON	    ;APAGAR EL TEMPORIZADOR
	    RETURN


